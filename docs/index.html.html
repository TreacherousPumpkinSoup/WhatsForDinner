<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Dinner Generator</title>

  <!-- Google Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" rel="stylesheet">

  <style>
    body {
      font-family: 'Montserrat', sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }

    .card {
      background: white;
      border-radius: 16px;
      padding: 32px;
      width: 320px;
      box-shadow: 0 12px 30px rgba(255, 105, 180, 0.2);
      text-align: center;
    }

    h1 {
      font-size: 22px;
      margin-bottom: 20px;
      color: #c2185b;
    }

    button {
      background: #ec407a;
      color: white;
      border: none;
      border-radius: 999px;
      padding: 12px 24px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: transform 0.1s ease, box-shadow 0.1s ease;
      box-shadow: 0 6px 14px rgba(236, 64, 122, 0.4);
    }

    button:hover {
      transform: translateY(-1px);
      box-shadow: 0 8px 18px rgba(236, 64, 122, 0.5);
    }

button:active {
  transform: scale(0.96);
  box-shadow: 0 4px 10px rgba(236, 64, 122, 0.4);
}


    #output {
      margin-top: 24px;
      min-height: 140px;
      text-align: left;
    }

    .row {
      background: #fff5f8;
      border-radius: 10px;
      padding: 10px 14px;
      margin-bottom: 10px;
      font-size: 14px;
    }

    .label {
      font-weight: 600;
      color: #ad1457;
    }

@keyframes fadeSlideIn {
  from {
    opacity: 0;
    transform: translateY(6px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.row.animate {
  animation: fadeSlideIn 0.35s ease;
}

.lock {
  cursor: pointer;
  font-size: 14px;
  margin-left: 6px;
  user-select: none;
  color: #c2185b;
}

.lock input {
  display: none;
}

.lock span {
  opacity: 0.4;
  transition: opacity 0.2s ease;
}

.lock .icon::before {
  content: "üîì";
}

.lock input:checked + .icon::before {
  content: "üîí";
}

.lock .icon {
  opacity: 0.4;
  display: inline-block;
  transition:
    opacity 0.2s ease,
    transform 0.2s cubic-bezier(.34,1.56,.64,1),
    filter 0.2s ease;
}

.lock input:checked + .icon {
  opacity: 1;
  transform: scale(1.25);
  filter: drop-shadow(0 0 6px rgba(236, 64, 122, 0.6));
}

.lock input:not(:checked) + .icon {
  animation: unlockPop 0.25s ease;
}

@keyframes unlockPop {
  0% { transform: scale(1.1); }
  100% { transform: scale(1); }
}

.perfect-meal {
  position: fixed;
  inset: 0;
  background: rgba(255, 182, 193, 0.55);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 100;
  backdrop-filter: blur(4px);
}

.perfect-meal.hidden {
  display: none;
}

.perfect-card {
  background: white;
  border-radius: 24px;
  padding: 36px 28px;
  text-align: center;
  box-shadow: 0 20px 50px rgba(236, 64, 122, 0.4);
  animation: popIn 0.45s cubic-bezier(.34,1.56,.64,1);
}

.perfect-card h2 {
  color: #c2185b;
  margin: 10px 0 6px;
}

.perfect-card p {
  font-size: 14px;
  color: #ad1457;
}

.perfect-card .emoji {
  font-size: 42px;
}

@keyframes popIn {
  from {
    transform: scale(0.7);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}

#confetti {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 200;
}



  </style>
</head>
<body>

  <div class="card">
    <h1>Mummys Yummys Generator</h1>
    <button onclick="generateMeal()">I'm Hungry!</button>
<canvas id="confetti"></canvas>

<label style="display:block; margin-top:12px; font-size:13px; color:#ad1457;">
  <input type="checkbox" id="safeMode">
  Lazy mode
</label>
    <div id="output"></div>
  </div>

<script>
const safeFoods = [
  "Nachos",
  "2 Min Noodles w/ Egg and Bok Choy",
  "Steak & Salad",
  "Chicken Schnitzel",
  "Pizza",
  "Sausages & Mash",
  "Beef Burgers",
  "Rissoles & Salad",
  "Garlic Prawn Salad",
  "Antipasto Pasta",
  "Pesto Pasta",
  "Crumbed Pork w Slaw",
  "Stir Fry",
  "Lamb Chops & Salad",
  "Bacon Carbonara",
  "Baked Fish w/ Greens",
  "Tacos",
  "Tomato Gnocchi",
  "Lemon Herb Chicken w/ Greens",
  "One Pot Lasanga"
];

// ---------- HELPERS ----------
function pickRandom(list) {
  return list[Math.floor(Math.random() * list.length)];
}

// ---------- DATA ----------
const proteins = [
//Component Protiens
  { name: "Grilled Chicken", complete: false },
  { name: "Greek Chicken", complete: false },
  { name: "Roasted Chicken Thighs", complete: false },
  { name: "Baked Salmon", complete: false },
  { name: "Lemon Herb Chicken", complete: false },
  { name: "Grilled Fish", complete: false },
  { name: "Baked Fish", complete: false },
  { name: "Nando's Style Chicken", complete: false },
  { name: "Dukkah Crusted Chicken", complete: false },
  { name: "Marinara", complete: false },
  { name: "Lamb Chops", complete: false },
  { name: "Seared Scallops", complete: false },
  { name: "Steamed Mussels", complete: false },
  { name: "Chicken Rissoles", complete: false },
  { name: "Beef Rissoles", complete: false },
  { name: "Hot Honey Salmon", complete: false },
  { name: "Lamb Rissoles", complete: false },
  { name: "Pork Sausages", complete: false },
  { name: "Lamb Sausages", complete: false },
  { name: "Beef Sausages", complete: false },
  { name: "Omelette", complete: false },
  { name: "Halloumi", complete: false },
  { name: "Chickpeas", complete: false },
  { name: "Lentils", complete: false },
  { name: "Falafel", complete: false },
  { name: "Steak", complete: false },
  { name: "Tandoori Chicken", complete: false },
  { name: "Miso Salmon", complete: false },
  { name: "Pork Belly", complete: false },
  { name: "Prawns", complete: false },
  { name: "Confit Duck", complete: false },
  { name: "Crispy Tofu", complete: false },
  { name: "Pomegranate Chicken", complete: false },
  { name: "Glazed Ham", complete: false },
  { name: "Jerked Chicken", complete: false },
  { name: "Camembert Stuffed Chicken", complete: false },
  { name: "Prosciutto", complete: false },
  { name: "Roasted Pork", complete: false },
  { name: "Roasted Lamb", complete: false },
  { name: "Buffalo Wings", complete: false },
  { name: "Lamb Shanks", complete: false },


//Complete Meals
  { name: "Bahn Mi", complete: true },
  { name: "Pork Belly Salad", complete: true },
  { name: "Mango Chicken", complete: true },
  { name: "Stir Fry Noodles", complete: true },
  { name: "Peanut Satay Noodles", complete: true },
  { name: "Fish Stew", complete: true },
  { name: "Mauritian Fried Noodles", complete: true },
  { name: "Ratatouille", complete: true },
  { name: "Beef Ragu", complete: true },
  { name: "Slow Cooked Lamb Shoulder", complete: true },
  { name: "Paella", complete: true },
  { name: "Seafood Pasta", complete: true },
  { name: "Beef Noodles", complete: true },
  { name: "Shakshuka", complete: true },
  { name: "Seafood Curry", complete: true },
  { name: "Wonton Noodle Soup", complete: true },
  { name: "Chicken Tagine", complete: true },
  { name: "Noodle Soup", complete: true },
  { name: "Lasagna", complete: true },
  { name: "Pho", complete: true },
  { name: "Katsu Curry", complete: true },
  { name: "Butter Chicken", complete: true },
  { name: "Chicken Korma", complete: true },
  { name: "Rogan Josh", complete: true },
  { name: "Chicken Biryani", complete: true },
  { name: "Honey Mustard Chicken", complete: true },
  { name: "Mauritian Curry", complete: true },
  { name: "Thai Green Curry", complete: true },
  { name: "Chicken & Sun-Dried Tomato Pasta", complete: true },
  { name: "Thai Red Curry", complete: true },
  { name: "Singapore Noodles", complete: true },
  { name: "Thai Beef Salad", complete: true },
  { name: "Tuna Sushi Bowl", complete: true },
  { name: "Seafood Curry", complete: true },
  { name: "Tandoori Chicken Wraps", complete: true },
  { name: "Mahmoos gutaifi", complete: true },
  { name: "Pilau", complete: true },
  { name: "Fish Vindaye", complete: true },
  { name: "Beef Bourguino w Mash", complete: true },
  { name: "Ceviche", complete: true },
  { name: "Jacket Potatoes w/ Beef", complete: true },
  { name: "Shepards Pie", complete: true },
  { name: "Laksa", complete: true },
  { name: "Stir-Fried Noodles", complete: true }
];

const carbs = [
  "Brown Rice",
  "Wild Rice Salad",
  "Vermicelli Noodles",
  "White Rice",
  "Garlic Rice",
  "Saffron Rice",
  "Potato Salad",
  "Lemon Rice",
  "Sushi Rice",
  "Biryani",
  "Mac & Cheese",
  "Orzo",
  "Couscous",
  "Pearl Couscous",
  "Farro",
  "Barley",
  "Quinoa",
  "Roasted Potatoes",
  "Sweet Potatoes",
  "Sweet Potato Mash",
  "Mashed Potatoes",
  "Polenta",
  "Whole Wheat Pasta",
  "Pita Bread",
  "Sourdough Bread",
  "Gnocchi",
  "Okinomiyaki",
  "Latkas",
  "Flatbread",
  "Focaccia"
];

const vegetables = [
  "Roasted Broccoli",
"Garlic Broccolini",
"Chilli Broccoli",
"Steamed Broccoli with Lemon",
"Charred Broccoli with Parmesan",

"Baked Potatoes",
"Garlic Roasted Potatoes",
"Herb Roasted Baby Potatoes",
"Chilli Crispy Potatoes",
"Mashed Potatoes with Olive Oil",

"Garlic Spinach",
"Saut√©ed Spinach with Lemon",
"Steamed Spinach",

"Beans & Almonds",
"Green Beans with Garlic Butter",
"Chilli Green Beans",
"Steamed Green Beans",

"Saut√©ed Kale",
"Crispy Kale Chips",
"Garlic Kale with Lemon",

"Roasted Carrots",
"Glazed Carrots",
"Honey Roasted Carrots",
"Chilli Roasted Carrots",

"Edamame Salad",
"Steamed Edamame with Sea Salt",
"Chilli Garlic Edamame",

"Tomato Chutney",
"Pico de Gaillo",
"Cherry Tomatoes",
"Roasted Cherry Tomatoes",
"Tomato & Basil Salad",

"Wakame",
"Seaweed Salad with Sesame",

"Cucumber Salad",
"Cucumber & Dill Salad",
"Chilli Cucumber Salad",

"Creamy Mushrooms",
"Garlic Mushrooms",
"Roasted Mushrooms with Thyme",
"Saut√©ed Mushrooms with Soy",

"Stuffed Capsicums",
"Roasted Capsicums",
"Marinated Capsicums",

"Roasted Eggplant",
"Grilled Eggplant with Tahini",
"Smoky Eggplant Mash",

"Greek Salad",
"Mango Salad",
"Mixed Leaf Salad",
"Rocket & Parmesan Salad",
"Spinach & Strawberry Salad",

"Roasted Cauliflower",
"Chilli Roasted Cauliflower",
"Cauliflower with Tahini Sauce",
"Steamed Cauliflower",

"Asparagus",
"Grilled Asparagus",
"Garlic Roasted Asparagus",
"Lemon Asparagus",

"Artichokes",
"Grilled Artichokes",
"Marinated Artichokes",

"Green Peas",
"Minted Green Peas",
"Buttery Green Peas",

"Zucchini Noodles",
"Grilled Zucchini",
"Roasted Zucchini with Herbs",

"Sweet Potato Mash",
"Roasted Sweet Potatoes",
"Chilli Sweet Potato Wedges",

"Brussels Sprouts",
"Roasted Brussels Sprouts",
"Chilli Garlic Brussels Sprouts",

"Corn on the Cob",
"Grilled Corn with Lime",
"Chilli Butter Corn",

"Pumpkin Roast",
"Maple Roasted Pumpkin",
"Steamed Pumpkin"
  "Roasted Broccoli",
  "Garlic Broccolini",
  "Miso Soup",
  "Baked Potatoes",
  "Steamed Broccoli",
  "Garlic Spinach",
  "Beans & Almonds",
  "Saut√©ed Kale",
  "Pomegranate",
  "Roasted Carrots",
  "Edamame Salad",
  "Tomato Chutney",
  "Pico de Gaillo",
  "Wakame",
  "Cucumber Salad",
  "Creamy Mushrooms",
  "Glazed Carrots",
  "Stuffed Capsicums",
  "Roasted Eggplant",
  "Cherry Tomatoes",
  "Greek Salad",
  "Mango Salad",
  "Mixed Leaf Salad",
  "Roasted Cauliflower",
  "Garlic Mushrooms",
  "Asparagus",
  "Artichokes",
  "Green Peas"
];

//Roll function
let currentProtein = null;
let currentCarb = null;
let currentVeg1 = null;
let currentVeg2 = null;

// ---------- MAIN ----------
function generateMeal() {
  const output = document.getElementById("output");
  const safeMode = document.getElementById("safeMode").checked;

  // Safe mode
  if (safeMode) {
    const meal = pickRandom(safeFoods);
    output.innerHTML = `
      <div class="row">
        <span class="label">Meal:</span> ${meal}
      </div>
    `;
    return;
  }

  // üîí Lock states
const lockProtein = document.getElementById("lockProtein")?.checked || false;
const lockCarb = document.getElementById("lockCarb")?.checked || false;
const lockVeg = document.getElementById("lockVeg")?.checked || false;


const anyLockActive = lockProtein || lockCarb || lockVeg;

const proteinPool = anyLockActive
  ? proteins.filter(p => !p.complete)
  : proteins;


  // ü•© Protein
  if (!lockProtein || !currentProtein) {
    currentProtein = pickRandom(proteinPool);

  }

  // Complete meal override
  if (currentProtein.complete) {
    output.innerHTML = `
      <div class="row">
        <span class="label">Meal:</span> ${currentProtein.name}
      </div>
    `;
    return;
  }

  // üçû Carb
  if (!lockCarb || !currentCarb) {
    currentCarb = pickRandom(carbs);
  }

  // ü•¶ Vegetables (pair)
  if (!lockVeg || !currentVeg1 || !currentVeg2) {
    currentVeg1 = pickRandom(vegetables);
    do {
      currentVeg2 = pickRandom(vegetables);
    } while (currentVeg2 === currentVeg1);
  }

  // Output
  output.innerHTML = `
  <div class="row animate">
    <label class="lock">
      <input type="checkbox" id="lockProtein" ${lockProtein ? "checked" : ""}>
      <span class="icon"></span>
    </label>
    <span class="label">Protein:</span> ${currentProtein.name}
  </div>

  <div class="row animate">
    <label class="lock">
      <input type="checkbox" id="lockCarb" ${lockCarb ? "checked" : ""}>
      <span class="icon"></span>
    </label>
    <span class="label">Carb:</span> ${currentCarb}
  </div>

  <div class="row animate">
    <label class="lock">
      <input type="checkbox" id="lockVeg" ${lockVeg ? "checked" : ""}>
      <span class="icon"></span>
    </label>
    <span class="label">Vegetables:</span> ${currentVeg1} & ${currentVeg2}
  </div>
`;


}
</script>

<script>

document.addEventListener("change", (e) => {
  if (e.target.matches(".lock input")) {
    checkPerfectMeal();
  }
});

function checkPerfectMeal() {
  const lockProtein = document.getElementById("lockProtein")?.checked;
  const lockCarb = document.getElementById("lockCarb")?.checked;
  const lockVeg = document.getElementById("lockVeg")?.checked;

  const popup = document.getElementById("perfectMeal");

  if (lockProtein && lockCarb && lockVeg) {
    popup.classList.remove("hidden");
    launchConfetti(); // üéä CONFETTI

    setTimeout(() => {
      popup.classList.add("hidden");
    }, 2000);
  }
}

const confettiCanvas = document.getElementById("confetti");
const ctx = confettiCanvas.getContext("2d");

let confettiPieces = [];
let confettiAnimation = null;

function resizeConfetti() {
  confettiCanvas.width = window.innerWidth;
  confettiCanvas.height = window.innerHeight;
}
resizeConfetti();
window.addEventListener("resize", resizeConfetti);

function launchConfetti() {
  confettiPieces = Array.from({ length: 120 }, () => ({
    x: Math.random() * confettiCanvas.width,
    y: -20,
    r: Math.random() * 6 + 4,
    d: Math.random() * 120,
    color: `hsl(${Math.random() * 360}, 90%, 65%)`,
    tilt: Math.random() * 10 - 5
  }));

  let frame = 0;

  function animate() {
    ctx.clearRect(0, 0, confettiCanvas.width, confettiCanvas.height);

    confettiPieces.forEach(p => {
      ctx.beginPath();
      ctx.fillStyle = p.color;
      ctx.ellipse(p.x, p.y, p.r, p.r * 0.6, p.tilt, 0, Math.PI * 2);
      ctx.fill();

      p.y += Math.cos(p.d + frame * 0.1) + 3;
      p.x += Math.sin(p.d);
      p.tilt += 0.1;
    });

    frame++;

    if (frame < 120) {
      confettiAnimation = requestAnimationFrame(animate);
    } else {
      ctx.clearRect(0, 0, confettiCanvas.width, confettiCanvas.height);
      cancelAnimationFrame(confettiAnimation);
    }
  }

  animate();
}


</script>

<script>
const backgrounds = [
  "https://raw.githubusercontent.com/TreacherousPumpkinSoup/WhatsForDinner/c3f3ba3cfe0a7b329d423138392c26830daa96dc/Backgrounds/brooke-lark-08bOYnH_r_E-unsplash%20(1).jpg",
  "https://raw.githubusercontent.com/TreacherousPumpkinSoup/WhatsForDinner/c3f3ba3cfe0a7b329d423138392c26830daa96dc/Backgrounds/brooke-lark-29h2n639YDA-unsplash.jpg",
  "https://raw.githubusercontent.com/TreacherousPumpkinSoup/WhatsForDinner/c3f3ba3cfe0a7b329d423138392c26830daa96dc/Backgrounds/ella-olsson-oPBjWBCcAEo-unsplash.jpg",

"https://raw.githubusercontent.com/TreacherousPumpkinSoup/WhatsForDinner/c3f3ba3cfe0a7b329d423138392c26830daa96dc/Backgrounds/tamanna-rumee-DoUgSMezLp0-unsplash.jpg"

];

function setRandomBackground() {
  const bg = backgrounds[Math.floor(Math.random() * backgrounds.length)];
  document.body.style.backgroundImage = `
    linear-gradient(rgba(255, 240, 245, 0.85), rgba(255, 240, 245, 0.85)),
    url('${bg}')
  `;
  document.body.style.backgroundSize = "cover";
  document.body.style.backgroundPosition = "center";
  document.body.style.backgroundRepeat = "no-repeat";
  document.body.style.backgroundAttachment = "fixed";
}

setRandomBackground();
</script>

<div id="perfectMeal" class="perfect-meal hidden">
  <div class="perfect-card">
    <div class="emoji">‚ú®üçΩÔ∏è‚ú®</div>
    <h2>Perfect Meal!</h2>
    <p>Dinner is decided üéâ</p>
  </div>
</div>

</body>
</html>

